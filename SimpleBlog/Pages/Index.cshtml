@page
@model SimpleBlog.Pages.IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@section Styles {
    <link rel="stylesheet" href="css/index.css">
}
@{
    var identity = User.Identity.IsAuthenticated;
}

<section>
    <h2>Последние посты</h2>
    @foreach(var post in Model.Posts)
    {
        <div class="post-card">
            <div style="display: flex;
                        justify-content: space-between;">
                <h3>@post.Title</h3>
                @if (identity && User.IsInRole("admin"))
                {
                    <form method="post">
                        <button class="read-more" type="submit" asp-page-handler="delete" asp-route-id="@post.Id" >Delete</button>
                    </form>
                }
            </div>
            @* <p>@post.Description</p> *@
            @{
                string str = "/postpage?id=" + post.Id;
            }
            <a href=@str class="read-more">Читать далее</a>
        </div>
    }

    @* <div class="post-card">
        <h3><a href="#">Как начать блог: советы для новичков</a></h3>
        <p>Советы и рекомендации для тех, кто только начинает свой путь в блогинге.</p>
        <a href="/postpage" class="read-more">Читать далее</a>
    </div>
    <div class="post-card">
        <h3><a href="#">10 идей для вдохновения</a></h3>
        <p>Подборка идей, которые помогут вам найти вдохновение для новых постов.</p>
        <a href="#" class="read-more">Читать далее</a>
    </div>
    <div class="post-card">
        <h3><a href="#">Как выбрать платформу для блога</a></h3>
        <p>Обзор популярных платформ для блогинга и их особенности.</p>
        <a href="#" class="read-more">Читать далее</a>
    </div> *@
</section>